name = "ls-trades-tv-discord-relay"
main = "src/worker.js"
compatibility_date = "2024-12-09"

# Durable Objects bindings
[[durable_objects.bindings]]
name = "TRADE_STORAGE"
class_name = "TradeStorage"
script_name = "ls-trades-tv-discord-relay"

# Durable Object migrations
[[migrations]]
tag = "v1"
new_classes = ["TradeStorage"]

# Environment variables
# Set via: npx wrangler secret put DISCORD_WEBHOOK_URL
# Or in Cloudflare dashboard: Workers & Pages → your-worker → Settings → Variables

# Cron trigger for market close checks
# 4:00 PM EST = 9:00 PM UTC (winter) / 8:00 PM UTC (summer with DST)
[triggers]
crons = ["0 21 * * 1-5"]  # Runs at 9 PM UTC, Monday-Friday
