{
  "version": 3,
  "sources": ["../../../src/TradeStorage.js", "../../../src/worker.js"],
  "sourceRoot": "/Users/lewisselby/lstrades-tv/ls-trades-tv-discord-relay/.wrangler/tmp/deploy-2rbVyG",
  "sourcesContent": ["// Durable Object for persistent trade storage\nexport class TradeStorage {\n  constructor(state, env) {\n    this.state = state;\n    this.env = env;\n  }\n\n  async fetch(request) {\n    const url = new URL(request.url);\n    \n    try {\n      switch (url.pathname) {\n        case '/get':\n          return await this.handleGet(request);\n        case '/set':\n          return await this.handleSet(request);\n        case '/delete':\n          return await this.handleDelete(request);\n        case '/clear':\n          return await this.handleClear(request);\n        case '/cleanup':\n          return await this.handleCleanup(request);\n        case '/list':\n          return await this.handleList(request);\n        default:\n          return new Response('Not found', { status: 404 });\n      }\n    } catch (error) {\n      return new Response(\n        JSON.stringify({ error: error.message }), \n        { status: 500, headers: { 'Content-Type': 'application/json' } }\n      );\n    }\n  }\n\n  async handleGet(request) {\n    const { key } = await request.json();\n    const value = await this.state.storage.get(key);\n    return new Response(\n      JSON.stringify({ value }), \n      { headers: { 'Content-Type': 'application/json' } }\n    );\n  }\n\n  async handleSet(request) {\n    const { key, value } = await request.json();\n    await this.state.storage.put(key, value);\n    return new Response(\n      JSON.stringify({ success: true }), \n      { headers: { 'Content-Type': 'application/json' } }\n    );\n  }\n\n  async handleDelete(request) {\n    const { key } = await request.json();\n    await this.state.storage.delete(key);\n    return new Response(\n      JSON.stringify({ success: true }), \n      { headers: { 'Content-Type': 'application/json' } }\n    );\n  }\n\n  async handleClear(request) {\n    await this.state.storage.deleteAll();\n    return new Response(\n      JSON.stringify({ success: true }), \n      { headers: { 'Content-Type': 'application/json' } }\n    );\n  }\n\n  async handleCleanup(request) {\n    // Remove trades older than 24 hours\n    const now = Date.now();\n    const maxAge = 24 * 60 * 60 * 1000; // 24 hours\n    \n    const allTrades = await this.state.storage.list({ prefix: 'trade:' });\n    let cleanedCount = 0;\n    \n    for (const [key, trade] of allTrades) {\n      if (trade.lastUpdate && (now - trade.lastUpdate > maxAge)) {\n        await this.state.storage.delete(key);\n        cleanedCount++;\n      }\n    }\n    \n    return new Response(\n      JSON.stringify({ success: true, cleanedCount }), \n      { headers: { 'Content-Type': 'application/json' } }\n    );\n  }\n\n  async handleList(request) {\n    const { prefix } = await request.json().catch(() => ({}));\n    const allEntries = await this.state.storage.list({ prefix: prefix || '' });\n    const entries = {};\n    \n    for (const [key, value] of allEntries) {\n      entries[key] = value;\n    }\n    \n    return new Response(\n      JSON.stringify({ entries }), \n      { headers: { 'Content-Type': 'application/json' } }\n    );\n  }\n}\n", "// Import Durable Object for persistent storage\nimport { TradeStorage } from './TradeStorage.js';\nexport { TradeStorage };\n\n// Duplicate prevention still uses in-memory (acceptable for short-lived data)\nlet recentSignals = new Map(); // signalKey -> timestamp (for duplicate prevention)\nconst DUPLICATE_WINDOW_MS = 5000; // 5 seconds to prevent duplicate signals\n\n// Clean up old entries from recentSignals to prevent memory leak\nfunction cleanupRecentSignals() {\n  const now = Date.now();\n  for (const [key, timestamp] of recentSignals.entries()) {\n    if (now - timestamp > DUPLICATE_WINDOW_MS) {\n      recentSignals.delete(key);\n    }\n  }\n}\n\n// Helper to get Durable Object instance\nfunction getTradeStorage(env) {\n  const id = env.TRADE_STORAGE.idFromName('global-trades');\n  return env.TRADE_STORAGE.get(id);\n}\n\n// Helper functions for Durable Object operations\nasync function getActiveTrades(env) {\n  const stub = getTradeStorage(env);\n  const response = await stub.fetch('https://fake-host/list', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ prefix: 'trade:' })\n  });\n  const { entries } = await response.json();\n  return entries;\n}\n\nasync function getTrade(env, tradeId) {\n  const stub = getTradeStorage(env);\n  const response = await stub.fetch('https://fake-host/get', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ key: `trade:${tradeId}` })\n  });\n  const { value } = await response.json();\n  return value;\n}\n\nasync function setTrade(env, tradeId, tradeData) {\n  const stub = getTradeStorage(env);\n  await stub.fetch('https://fake-host/set', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ key: `trade:${tradeId}`, value: tradeData })\n  });\n}\n\nasync function deleteTrade(env, tradeId) {\n  const stub = getTradeStorage(env);\n  await stub.fetch('https://fake-host/delete', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ key: `trade:${tradeId}` })\n  });\n}\n\nasync function cleanupOldTrades(env) {\n  const stub = getTradeStorage(env);\n  await stub.fetch('https://fake-host/cleanup', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' }\n  });\n}\n\nasync function sendDiscordMessage(webhookUrl, content, embeds = []) {\n  const discordPayload = { content };\n  if (embeds.length > 0) {\n    discordPayload.embeds = embeds;\n  }\n  \n  const resp = await fetch(webhookUrl, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(discordPayload)\n  });\n  \n  return resp.ok;\n}\n\nexport default {\n  async scheduled(event, env, ctx) {\n    // This runs on a cron schedule for 4pm EST market close check\n    const webhookUrl = env.DISCORD_WEBHOOK_URL;\n    if (!webhookUrl) return;\n\n    // Get active trades from Durable Object\n    const activeTrades = await getActiveTrades(env);\n    if (Object.keys(activeTrades).length === 0) return;\n\n    // Check if there are active trades at market close\n    for (const [key, trade] of Object.entries(activeTrades)) {\n      const tradeId = key.replace('trade:', '');\n      const content = [\n        \"Hard Stop - Market Close \uD83D\uDD14\",\n        `Trade ID: ${tradeId}`,\n        `Type: ${trade.type}`,\n        `Symbol: ${trade.symbol}`,\n        `Entry: ${trade.entry}`,\n        \"Active trade will be closed at market close.\"\n      ].join(\"\\n\");\n\n      await sendDiscordMessage(webhookUrl, content);\n    }\n    \n    // Cleanup old trades (older than 24 hours)\n    await cleanupOldTrades(env);\n  },\n\n  async fetch(request, env, ctx) {\n    const url = new URL(request.url);\n    \n    // Health check endpoint\n    if (request.method === \"GET\" && url.pathname === \"/health\") {\n      const activeTrades = await getActiveTrades(env);\n      const tradesList = Object.entries(activeTrades).map(([key, t]) => ({\n        id: key.replace('trade:', ''),\n        type: t.type,\n        symbol: t.symbol,\n        tf: t.tf,\n        startTime: t.startTime,\n        partialClosed: t.partialClosed || false\n      }));\n      \n      return new Response(\n        JSON.stringify({ \n          status: \"ok\",\n          activeTradesCount: tradesList.length,\n          activeTrades: tradesList,\n          recentSignalsCount: recentSignals.size,\n          timestamp: new Date().toISOString()\n        }), \n        { \n          status: 200, \n          headers: { \"Content-Type\": \"application/json\" } \n        }\n      );\n    }\n    \n    if (request.method !== \"POST\") {\n      return new Response(\"Method not allowed\", { status: 405 });\n    }\n\n    const BUY_IMAGE_URL = \"https://raw.githubusercontent.com/theLifeOfLewis/ls-trades-tv-discord-relay/main/assets/buy.png\";\n    const SELL_IMAGE_URL = \"https://raw.githubusercontent.com/theLifeOfLewis/ls-trades-tv-discord-relay/main/assets/sell.png\";\n\n    let payload;\n    try {\n      payload = await request.json();\n    } catch (e) {\n      return new Response(\"Invalid JSON\", { status: 400 });\n    }\n\n    const webhookUrl = env.DISCORD_WEBHOOK_URL;\n    if (!webhookUrl) {\n      return new Response(\"Missing Discord webhook\", { status: 500 });\n    }\n\n    const scrub = (value) => {\n      if (value === null || value === undefined) return \"\";\n      if (typeof value === \"string\") {\n        const trimmed = value.trim();\n        if (!trimmed || trimmed.toLowerCase() === \"null\" || trimmed.toLowerCase() === \"undefined\") {\n          return \"\";\n        }\n        return trimmed;\n      }\n      if (Number.isNaN(value)) return \"\";\n      return String(value);\n    };\n\n    const withNA = (value, fallback = \"N/A\") => {\n      const cleaned = scrub(value);\n      return cleaned === \"\" ? fallback : cleaned;\n    };\n\n    const isValidNumber = (value) => {\n      const cleaned = scrub(value);\n      if (cleaned === \"\" || cleaned === \"N/A\") return false;\n      const num = parseFloat(cleaned);\n      return !isNaN(num) && isFinite(num);\n    };\n\n    const isWithinTradingHours = (timestamp) => {\n      if (!timestamp) return false;\n      try {\n        const date = new Date(timestamp);\n        if (isNaN(date.getTime())) return false;\n        \n        // Get EST time components\n        const estTime = new Intl.DateTimeFormat('en-US', {\n          timeZone: 'America/New_York',\n          hour: 'numeric',\n          minute: 'numeric',\n          hour12: false\n        }).format(date);\n        \n        const [hours, minutes] = estTime.split(':').map(Number);\n        const totalMinutes = hours * 60 + minutes;\n        \n        // 9:45 AM = 585 minutes, 11:00 AM = 660 minutes\n        return totalMinutes >= 585 && totalMinutes < 660;\n      } catch (e) {\n        return false;\n      }\n    };\n\n    const formatTime = (timestamp) => {\n      if (!timestamp) return \"N/A\";\n      try {\n        const date = new Date(timestamp);\n        if (isNaN(date.getTime())) return withNA(timestamp);\n        \n        const options = {\n          timeZone: 'America/New_York',\n          weekday: 'short',\n          year: 'numeric',\n          month: 'short',\n          day: 'numeric',\n          hour: 'numeric',\n          minute: '2-digit',\n          hour12: true\n        };\n        \n        const formatted = new Intl.DateTimeFormat('en-US', options).format(date);\n        return `${formatted} EST`;\n      } catch (e) {\n        return withNA(timestamp);\n      }\n    };\n\n    const typeRaw = scrub(payload.type).toUpperCase();\n    const type = typeRaw || \"UNKNOWN\";\n    const symbol = scrub(payload.symbol) || \"UNKNOWN\";\n    const tf = scrub(payload.tf);\n    const symbolLine = tf ? `${symbol} ${tf}m` : symbol;\n    const time = formatTime(payload.time);\n    const entry = withNA(payload.entry);\n    const sl = withNA(payload.sl);\n    const tp1 = withNA(payload.tp1);\n    const tp2 = withNA(payload.tp2);\n    const price = withNA(payload.price);\n    const tradeId = scrub(payload.tradeId) || `TRADE_${Date.now()}`;\n\n    // Clean up old recent signals periodically\n    cleanupRecentSignals();\n\n    // Create a unique key for duplicate detection\n    const signalKey = `${type}_${tradeId}_${entry}_${time}`;\n    const now = Date.now();\n    \n    // Check for duplicate signal within time window\n    if (recentSignals.has(signalKey)) {\n      const lastSeen = recentSignals.get(signalKey);\n      if (now - lastSeen < DUPLICATE_WINDOW_MS) {\n        return new Response(\n          JSON.stringify({ \n            status: \"rejected\", \n            reason: \"Duplicate signal detected within 5 seconds\",\n            signalKey\n          }), \n          { status: 200, headers: { \"Content-Type\": \"application/json\" } }\n        );\n      }\n    }\n    \n    // Record this signal\n    recentSignals.set(signalKey, now);\n\n    // Validate tradeId format (should be a number from Pine Script)\n    if (tradeId && !tradeId.startsWith(\"TRADE_\") && (isNaN(parseInt(tradeId)) || parseInt(tradeId) <= 0)) {\n      return new Response(\n        JSON.stringify({ \n          status: \"rejected\", \n          reason: \"Invalid trade ID format\",\n          tradeId\n        }), \n        { status: 400, headers: { \"Content-Type\": \"application/json\" } }\n      );\n    }\n\n    // Check for active trades\n    const activeTrades = await getActiveTrades(env);\n    const hasActiveTrade = Object.keys(activeTrades).length > 0;\n    \n    // Validate entry signals have valid position values and are within trading hours\n    const isEntrySignal = type === \"LONG_ENTRY\" || type === \"SHORT_ENTRY\";\n    if (isEntrySignal) {\n      // Reject if there's already an active trade\n      if (hasActiveTrade) {\n        const activeTradesList = Object.entries(activeTrades)\n          .map(([key, t]) => `${key.replace('trade:', '')} (${t.type} ${t.symbol} ${t.tf ? t.tf + 'm' : ''})`)\n          .join(\", \");\n        \n        return new Response(\n          JSON.stringify({ \n            status: \"rejected\", \n            reason: \"Active trade already exists\",\n            activeTrades: activeTradesList\n          }), \n          { status: 200, headers: { \"Content-Type\": \"application/json\" } }\n        );\n      }\n\n      const hasValidPositions = isValidNumber(payload.entry) && \n                                isValidNumber(payload.sl) && \n                                isValidNumber(payload.tp1) && \n                                isValidNumber(payload.tp2);\n      \n      const withinTradingHours = isWithinTradingHours(payload.time);\n      \n      if (!hasValidPositions || !withinTradingHours) {\n        return new Response(\n          JSON.stringify({ \n            status: \"rejected\", \n            reason: !hasValidPositions ? \"Invalid position values\" : \"Outside trading hours (9:30 AM - 12:00 PM EST)\",\n            hasValidPositions,\n            withinTradingHours,\n            receivedValues: { entry: payload.entry, sl: payload.sl, tp1: payload.tp1, tp2: payload.tp2 }\n          }), \n          { status: 200, headers: { \"Content-Type\": \"application/json\" } }\n        );\n      }\n\n      // Register the new trade in Durable Object\n      await setTrade(env, tradeId, {\n        type: type === \"LONG_ENTRY\" ? \"LONG\" : \"SHORT\",\n        symbol,\n        tf,\n        entry,\n        sl,\n        tp1,\n        tp2,\n        startTime: payload.time || new Date().toISOString(),\n        lastUpdate: now\n      });\n    }\n\n    // Validate trade exists for non-entry signals\n    if (!isEntrySignal && type !== \"UNKNOWN\") {\n      // For TP/SL alerts, verify the trade exists\n      const existingTrade = await getTrade(env, tradeId);\n      if (!existingTrade) {\n        return new Response(\n          JSON.stringify({ \n            status: \"rejected\", \n            reason: \"No active trade found with this ID\",\n            tradeId,\n            type\n          }), \n          { status: 200, headers: { \"Content-Type\": \"application/json\" } }\n        );\n      }\n      \n      // Update last activity timestamp\n      existingTrade.lastUpdate = now;\n      await setTrade(env, tradeId, existingTrade);\n    }\n\n    // Handle trade closure (SL, TP3, or partial TP1/BE/TP2)\n    const isFullClose = type === \"LONG_SL\" || type === \"SHORT_SL\" || \n                        type === \"LONG_TP3\" || type === \"SHORT_TP3\";\n    const isPartialClose = type === \"LONG_TP1\" || type === \"SHORT_TP1\" ||\n                           type === \"LONG_BE\" || type === \"SHORT_BE\" ||\n                           type === \"LONG_TP2\" || type === \"SHORT_TP2\";\n    \n    if (isFullClose && tradeId) {\n      await deleteTrade(env, tradeId);\n    } else if (isPartialClose && tradeId) {\n      // Keep trade active but mark partial closure\n      const trade = await getTrade(env, tradeId);\n      if (trade) {\n        trade.partialClosed = true;\n        trade.partialCloseType = type;\n        trade.partialCloseTime = now;\n        await setTrade(env, tradeId, trade);\n      }\n    }\n\n    let content = \"\";\n    let embeds = [];\n\n    switch (type) {\n      case \"LONG_ENTRY\":\n        content = [\n          \"Buy NQ|NAS100 Now\",\n          `Trade ID: ${tradeId}`,\n          symbolLine,\n          `Time: ${time}`,\n          `Entry: ${entry}`,\n          `SL: ${sl}`,\n          `TP1: ${tp1}`,\n          `TP2: ${tp2}`\n        ].join(\"\\n\");\n        embeds = [{ image: { url: BUY_IMAGE_URL } }];\n        break;\n      case \"SHORT_ENTRY\":\n        content = [\n          \"Sell NQ|NAS100 Now\",\n          `Trade ID: ${tradeId}`,\n          symbolLine,\n          `Time: ${time}`,\n          `Entry: ${entry}`,\n          `SL: ${sl}`,\n          `TP1: ${tp1}`,\n          `TP2: ${tp2}`\n        ].join(\"\\n\");\n        embeds = [{ image: { url: SELL_IMAGE_URL } }];\n        break;\n      case \"LONG_BE\":\n      case \"SHORT_BE\":\n        content = [\n          \"TP1 HIT / BE\",\n          `Trade ID: ${tradeId}`,\n          symbolLine,\n          `Time: ${time}`,\n          `Price: ${price}`,\n          \"TP1 Smashed! \uD83D\uDD25\uD83D\uDD25\uD83D\uDD25 SL moved to entry. 50% Partials secured. \uD83D\uDCB0\"\n        ].join(\"\\n\");\n        break;\n      case \"LONG_TP1\":\n      case \"SHORT_TP1\":\n        content = [\n          \"TP1 HIT / BE\",\n          `Trade ID: ${tradeId}`,\n          symbolLine,\n          `Time: ${time}`,\n          `Price: ${price}`,\n          \"TP1 Smashed! \uD83D\uDD25\uD83D\uDD25\uD83D\uDD25 SL moved to entry. 50% Partials secured. \uD83D\uDCB0\"\n        ].join(\"\\n\");\n        break;\n      case \"LONG_TP2\":\n      case \"SHORT_TP2\":\n        content = [\n          \"TP2 HIT\",\n          `Trade ID: ${tradeId}`,\n          symbolLine,\n          `Time: ${time}`,\n          `Price: ${price}`,\n          \"TP2 Smashed! \uD83D\uDD25\uD83D\uDD25\uD83D\uDD25 Secured a little more \uD83D\uDCB0. Runner left to TP3.\"\n        ].join(\"\\n\");\n        break;\n      case \"LONG_TP3\":\n      case \"SHORT_TP3\":\n        content = [\n          \"TP3 HIT\",\n          `Trade ID: ${tradeId}`,\n          symbolLine,\n          `Time: ${time}`,\n          `Price: ${price}`,\n          \"TP3 Smashed! \uD83D\uDD25\uD83D\uDD25\uD83D\uDD25 Trade fully closed.\"\n        ].join(\"\\n\");\n        break;\n      case \"LONG_SL\":\n      case \"SHORT_SL\":\n        content = [\n          \"SL HIT\",\n          `Trade ID: ${tradeId}`,\n          symbolLine,\n          `Time: ${time}`,\n          `Price: ${price}`,\n          \"Trade invalidated. \uD83D\uDED1\"\n        ].join(\"\\n\");\n        break;\n      default:\n        // Log unknown alert types for debugging\n        console.warn(\"Unknown alert type received:\", type, \"Payload:\", payload);\n        content = [\n          \"\u26A0\uFE0F UNKNOWN ALERT TYPE\",\n          `Type: ${type}`,\n          `Trade ID: ${tradeId}`,\n          `Symbol: ${symbolLine}`,\n          `Time: ${time}`,\n          \"Please check indicator configuration.\"\n        ].join(\"\\n\");\n        break;\n    }\n\n    const discordPayload = { content };\n    if (embeds.length > 0) {\n      discordPayload.embeds = embeds;\n    }\n    const discordBody = JSON.stringify(discordPayload);\n\n    let resp;\n    try {\n      resp = await fetch(webhookUrl, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: discordBody\n      });\n    } catch (error) {\n      console.error(\"Failed to send Discord message:\", error);\n      return new Response(\n        JSON.stringify({ \n          status: \"error\", \n          reason: \"Failed to connect to Discord\",\n          error: error.message \n        }), \n        { status: 502, headers: { \"Content-Type\": \"application/json\" } }\n      );\n    }\n\n    if (!resp.ok) {\n      const errorText = await resp.text();\n      console.error(\"Discord webhook error:\", resp.status, errorText);\n      return new Response(\n        JSON.stringify({ \n          status: \"error\", \n          reason: \"Discord webhook rejected the message\",\n          httpStatus: resp.status,\n          details: errorText\n        }), \n        { status: 502, headers: { \"Content-Type\": \"application/json\" } }\n      );\n    }\n\n    // Success response with confirmation\n    const finalActiveTrades = await getActiveTrades(env);\n    return new Response(\n      JSON.stringify({ \n        status: \"success\", \n        type,\n        tradeId,\n        activeTradesCount: Object.keys(finalActiveTrades).length,\n        message: \"Alert sent to Discord\"\n      }), \n      { status: 200, headers: { \"Content-Type\": \"application/json\" } }\n    );\n  }\n};\n"],
  "mappings": "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",
  "names": ["activeTrades"]
}
